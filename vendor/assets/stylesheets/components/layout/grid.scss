// Grid
//----------------------------------------------------------------------

$flex-grid-width: 100%;
$flex-grid-gutter: 16px;
$flex-grid-columns-count: 12;

.grid {
  display: block;
  margin: auto;
  padding: 0;
  width: $flex-grid-width;
}

.grid-small-padded { padding: $flex-grid-gutter / 2; }

@media (min-width: $device-medium) {
  .grid-medium-padded { padding: $flex-grid-gutter / 2; }
}

@media (min-width: $device-large) {
  .grid-large-padded { padding: $flex-grid-gutter / 2; }
}

// Rows
//----------------------------------------------------------------------

.row {
  box-sizing: border-box;
  display: flex;
  flex: 0 1 auto;
  flex-direction: row;
  flex-wrap: wrap;
}

// Generate classes
//----------------------------------------------------------------------

// Shared across all "col-*" classes.
@mixin grid-column() {
  box-sizing: border-box;
  flex-grow: 0;
  flex-shrink: 0;
  padding: $flex-grid-gutter / 2;
}

// [class^="col-"] {
//   box-sizing: border-box;
//   flex-grow: 0;
//   flex-shrink: 0;
//   padding: $flex-grid-gutter / 2;
// }

// Small devices
@for $i from 1 through $flex-grid-columns-count {
  $width: (100% / $flex-grid-columns-count * $i);
  .col-small-#{$i} {
    flex-basis: $width;
    max-width: $width;
    @include grid-column();
  }
}

// Medium devices
@media (min-width: $device-medium) {
  @for $i from 1 through $flex-grid-columns-count {
    $width: (100% / $flex-grid-columns-count * $i);
    .col-medium-#{$i} {
      flex-basis: $width;
      max-width: $width;
      @include grid-column();
    }
  }
}

// Large devices
@media (min-width: $device-large) {
  @for $i from 1 through $flex-grid-columns-count {
    $width: (100% / $flex-grid-columns-count * $i);
    .col-large-#{$i} {
      flex-basis: $width;
      max-width: $width;
      @include grid-column();
    }
  }
}

// X-large devices
@media (min-width: $device-xlarge) {
  @for $i from 1 through $flex-grid-columns-count {
    $width: (100% / $flex-grid-columns-count * $i);
    .col-xlarge-#{$i} {
      flex-basis: $width;
      max-width: $width;
      @include grid-column();
    }
  }
}
