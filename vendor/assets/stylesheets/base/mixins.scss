//======================================================================
// SCSS mixins accessible in every SCSS file imported after this one.
// Mixins abstract browser-specific vendor prefixes when applicable.
//======================================================================

// Default values for mixins
//----------------------------------------------------------------------

$default-rounded-corners-radius: 2px; // As per Material Design spec

// Rounded corners
//----------------------------------------------------------------------

@mixin rounded-corners($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: $radius;
  -moz-border-radius: $radius;
  -webkit-border-radius: $radius;
}

@mixin rounded-top-corners($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: $radius $radius 0 0;
  -moz-border-radius: $radius $radius 0 0;
  -webkit-border-radius: $radius $radius 0 0;
}

@mixin rounded-right-corners($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: 0 $radius $radius 0;
  -moz-border-radius: 0 $radius $radius 0;
  -webkit-border-radius: 0 $radius $radius 0;
}

@mixin rounded-bottom-corners($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: 0 0 $radius $radius;
  -moz-border-radius: 0 0 $radius $radius;
  -webkit-border-radius: 0 0 $radius $radius;
}

@mixin rounded-left-corners($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: $radius 0 0 $radius;
  -moz-border-radius: $radius 0 0 $radius;
  -webkit-border-radius: $radius 0 0 $radius;
}

@mixin rounded-top-left-corner($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: $radius 0 0 0;
  -moz-border-radius: $radius 0 0 0;
  -webkit-border-radius: $radius 0 0 0;
}

@mixin rounded-top-right-corner($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: 0 $radius 0 0;
  -moz-border-radius: 0 $radius 0 0;
  -webkit-border-radius: 0 $radius 0 0;
}

@mixin rounded-bottom-left-corner($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: 0 0 0 $radius;
  -moz-border-radius: 0 0 0 $radius;
  -webkit-border-radius: 0 0 0 $radius;
}

@mixin rounded-bottom-right-corner($radius: $default-rounded-corners-radius) {
  behavior: url(border-radius.htc);
  border-radius: 0 0 $radius 0;
  -moz-border-radius: 0 0 $radius 0;
  -webkit-border-radius: 0 0 $radius 0;
}

// Gradient
//----------------------------------------------------------------------

@mixin linear-gradient($from, $to) {
  background-color: $from;
  background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from($from), to($to));
  background-image: -moz-linear-gradient(top, $from, $to);
  background-image: -ms-linear-gradient(top, $from, $to);
  background-image: -o-linear-gradient(top, $from, $to);
  background-image: linear-gradient(top, $from, $to);
}

// Effects
//----------------------------------------------------------------------

@mixin transition($effect...) {
  @if length($effect) == 0 {
    $effect: all 0.20s ease;
  }

  transition: $effect;
  -moz-transition: $effect;
  -o-transition: $effect;
  -webkit-transition: $effect;
}

@mixin transform($text...) {
  -webkit-transform: $text;
  -moz-transform: $text;
  -ms-transform: $text;
  transform: $text;
}

// Visibility
//----------------------------------------------------------------------

@mixin visibility($text) {
  visibility: $text;
  -webkit-backface-visibility: $text;
  -moz-backface-visibility: $text;
  backface-visibility: $text;
}

// See: css-tricks.com/css-transparency-settings-for-all-broswers
@mixin transparency($value: 0.5) {
  filter: alpha(opacity=($value * 100));
  opacity: $value;
  zoom: 1;
}

// Shadows
//----------------------------------------------------------------------

@mixin box-shadow($shadow...) {
  @if length($shadow) == 0 {
    $shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.16);
  }

  box-shadow: $shadow;
  -moz-box-shadow: $shadow;
  -webkit-box-shadow: $shadow;
}

@mixin text-shadow($shadow) {
  text-shadow: $shadow;
  -moz-text-shadow: $shadow;
  -webkit-text-shadow: $shadow;
}

// Flexbox
//----------------------------------------------------------------------

// Defaults to horizontal and vertical center.
// Expects additional classes to override.
@mixin flex-parent() {
  align-items: center;
  display: flex;
  display: -ms-flexbox;
  display: -webkit-flex;
  flex-direction: row;
  justify-content: center;
}

@mixin flex-align-left() { justify-content: flex-start; }
@mixin flex-align-center() { justify-content: center; }
@mixin flex-align-right() { justify-content: flex-end; }

@mixin flex-vertical-align-top() { align-items: flex-start; }
@mixin flex-vertical-align-center() { align-items: center; }
@mixin flex-vertical-align-bottom() { align-items: flex-end; }

@mixin flex-parent-align-top() {
  @include flex-parent();
  @include flex-vertical-align-top();
}

// // For a row of flex elements, such as the appbar.
// @mixin flex-parent-row() {
//   @include flex-parent();
//   align-items: center;
//   -ms-flex-align: center;
//   -webkit-align-items: center;
//   -webkit-box-align: center;
//   flex-direction: row;
//   flex-wrap: nowrap;
//   justify-content: flex-start;
// }
//
// @mixin flex-parent-row-align-center() {
//   @include flex-parent-row();
//   flex: 1 1 auto;
//   justify-content: center;
// }
//
// @mixin flex-parent-row-align-right() {
//   @include flex-parent-row();
//   flex: 1;
//   justify-content: flex-end;
// }
//
// @mixin flex-parent-row-align-top() {
//   @include flex-parent-row();
//   align-items: flex-start;
//   -ms-flex-align: flex-start;
//   -webkit-align-items: flex-start;
//   -webkit-box-align: flex-start;
// }

// // Center elements vertically and horizontally
// @mixin flex-center() {
//   @include flex-parent();
//   align-items: center;
//   -ms-flex-align: center;
//   -webkit-align-items: center;
//   -webkit-box-align: center;
//   flex-direction: column;
//   flex-wrap: nowrap;
//   justify-content: center;
//   height: 100%;
//   width: 100%;
// }

// Grid list
// @mixin flex-grid-list() {
//   @include flex-parent();
//   align-items: flex-start;
//   -ms-flex-align: flex-start;
//   -webkit-align-items: flex-start;
//   -webkit-box-align: flex-start;
//   flex-direction: row;
//   flex-wrap: wrap;
// }

// Boxes
//----------------------------------------------------------------------

// Using border-box takes element's padding into consideration
@mixin full-width() {
  box-sizing: border-box !important;
  -moz-box-sizing: border-box !important;
  -webkit-box-sizing: border-box !important;
  width: 100% !important;
}

// Touch
//----------------------------------------------------------------------

// By default, touch devices highlight elements when selected
@mixin no-touch-highlight($value: auto) {
  -webkit-touch-callout: $value;
  -webkit-user-select: $value;
  -khtml-user-select: $value;
  -moz-user-select: $value;
  -ms-user-select: $value;
  user-select: $value;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-tap-highlight-color: transparent;
}

@mixin no-touch-highlight-color() {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-tap-highlight-color: transparent;
}

// Truncating text
//----------------------------------------------------------------------

@mixin truncate-text() {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin force-text-wrap() {
  overflow: visible !important;
  text-overflow: inherit !important;
  white-space: normal !important;
  word-wrap: break-word;
}

// Shared lists styles
//----------------------------------------------------------------------

@mixin list-item() {
  color: color("text");
  font-size: $font-size-normal;
  min-height: $list-one-line-height;
  padding-left: $spacing-small;
  padding-right: $spacing-small;
  @include flex-parent();
  @include flex-align-left();
  @include no-touch-highlight-color();
  @include transition(background-color 0.30s ease);
}

@mixin list-item-icon() {
  color: color("icon");
  max-width: 44px; // 56px
  padding-left: 0; // $spacing-small
  text-align: center;
  width: 44px; // 56px
}

@mixin list-item-primary() {
  color: color("text");
  flex: 1; // Fill space
  font-size: $font-size-normal;
  padding: $spacing-normal $spacing-small;
}

@mixin list-item-primary-supertext() {
  color: color("helper");
  font-size: $font-size-small;
  font-weight: normal;
  padding-bottom: $spacing-xsmall;
  @include flex-parent();
  @include flex-align-left();
}

@mixin list-item-primary-subtext() {
  @include list-item-primary-supertext();
  padding-bottom: 0;
  padding-top: $spacing-xsmall;
}

@mixin list-item-secondary() {
  color: color("helper");
  padding-left: $spacing-small;
  padding-right: $spacing-small;
}

// Font smoothing
//----------------------------------------------------------------------

@mixin font-smoothing() {
  -webkit-font-smoothing: antialiased;
}

// Specifically for small devices where the border would normally leave
// a 1px line on the edges. Using box-shadow allows the border to be
// hidden on the edges.
//----------------------------------------------------------------------

@mixin border($color: color("divider")) {
  @include box-shadow(0 0 1px $color);
}

// Elevation (z-index)
//----------------------------------------------------------------------

@mixin elevation($z-value) {
  @if type-of($z-value) != number or not unitless($z-value) {
    @error "$z-value must be a unitless number";
  }

  z-index: : $z-value;
}

// Material Icons
//----------------------------------------------------------------------

@mixin material-icons() {
  font-family: "Material Icons";
  font-weight: normal;
  font-style: normal;
  font-size: 24px; // Default icon size
  display: inline-block;
  // line-height: 1;
  line-height: inherit;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;

  -webkit-font-smoothing: antialiased; // WebKit
  text-rendering: optimizeLegibility; // Safari/Chrome
  -moz-osx-font-smoothing: grayscale; // Firefox
  font-feature-settings: "liga"; // IE
}
